Создай профессиональное приложение на Python для полного мониторинга Telegram аккаунта с использованием Telethon библиотеки.

ТРЕБОВАНИЯ К ПРИЛОЖЕНИЮ:

1. АВТОРИЗАЦИЯ:
   - Реализовать вход через API ID и API HASH (получать из конфигурационного файла или переменных окружения)
   - Поддержка входа по номеру телефона с двухфакторной аутентификацией
   - Реализовать интерактивный ввод кода подтверждения из SMS
   - Реализовать ввод облачного пароля (2FA пароля) если он установлен
   - Сохранение сессии для последующих запусков без повторной авторизации
   - Обработка всех возможных ошибок авторизации

2. МОНИТОРИНГ СООБЩЕНИЙ:
   - Отслеживание всех входящих сообщений (личные чаты, группы, каналы)
   - Отслеживание всех исходящих сообщений
   - Логирование полной информации: отправитель, получатель, текст, медиа, время, ID сообщения
   - Отслеживание редактированных сообщений (старая и новая версия)
   - Отслеживание удаленных сообщений (кто удалил, что удалил, когда)
   - Отслеживание пересланных сообщений

3. МОНИТОРИНГ РЕАКЦИЙ:
   - Отслеживание всех реакций на сообщения (эмодзи, кастомные реакции)
   - Логирование: кто поставил реакцию, на какое сообщение, какая реакция, время
   - Отслеживание изменений реакций (удаление, замена)

4. МОНИТОРИНГ СОБЫТИЙ:
   - Отслеживание входов/выходов пользователей в группах
   - Отслеживание изменений прав участников (админ, модератор, обычный пользователь)
   - Отслеживание изменений названий чатов/групп
   - Отслеживание изменений аватаров
   - Отслеживание создания/удаления чатов
   - Отслеживание изменений настроек чата
   - Отслеживание голосовых звонков (начало, конец, участники)
   - Отслеживание видеозвонков
   - Отслеживание изменений статуса пользователей (онлайн, офлайн, недавно был в сети)
   - Отслеживание изменений профиля (имя, фото, био)
   - Отслеживание блокировок/разблокировок
   - Отслеживание добавлений в контакты/удалений из контактов

5. МОНИТОРИНГ МЕДИА:
   - Отслеживание всех отправленных/полученных фото
   - Отслеживание всех отправленных/полученных видео
   - Отслеживание всех отправленных/полученных аудио/голосовых сообщений
   - Отслеживание всех отправленных/полученных документов/файлов
   - Сохранение метаданных медиа (размер, тип, имя файла, дата создания)
   - Опциональное сохранение самих медиа файлов в локальную папку

6. МОНИТОРИНГ КОНТАКТОВ:
   - Отслеживание добавления новых контактов
   - Отслеживание удаления контактов
   - Отслеживание изменений в контактах (имя, номер телефона, фото)
   - Мониторинг списка всех контактов

7. МОНИТОРИНГ ГРУПП И КАНАЛОВ:
   - Отслеживание присоединений к группам/каналам
   - Отслеживание выхода из групп/каналов
   - Отслеживание изменений участников (добавление, удаление, бан)
   - Отслеживание изменений прав в группах
   - Отслеживание пинов сообщений
   - Отслеживание изменений описания группы/канала

8. ЛОГИРОВАНИЕ:
   - Создать структурированную систему логирования
   - Логи в консоль с цветным выводом для разных типов событий
   - Логи в файлы (JSON формат для структурированных данных)
   - Логи в файлы (текстовый формат для читаемости)
   - Ротация логов (по размеру и дате)
   - Разделение логов по типам событий (сообщения, реакции, события, медиа)
   - Включение временных меток для всех событий
   - Сохранение полной информации о каждом событии

9. БАЗА ДАННЫХ:
   - Использовать SQLite или PostgreSQL для хранения всех событий
   - Таблицы для: сообщений, реакций, событий, медиа, контактов, групп
   - Индексы для быстрого поиска
   - Возможность экспорта данных в различные форматы (JSON, CSV, Excel)

10. КОНФИГУРАЦИЯ:
    - Конфигурационный файл (config.json или .env) для API ID, API HASH
    - Настройки путей для сохранения логов и медиа
    - Настройки фильтров (какие события отслеживать)
    - Настройки уровня детализации логирования

11. БЕЗОПАСНОСТЬ:
    - Безопасное хранение сессии (шифрование опционально)
    - Безопасное хранение API credentials
    - Обработка rate limits Telegram API
    - Graceful shutdown при прерывании программы

12. ИНТЕРФЕЙС:
    - Консольный интерфейс с индикатором работы
    - Статистика в реальном времени (количество сообщений, событий за сессию)
    - Возможность просмотра последних событий через консоль
    - Опционально: веб-интерфейс для просмотра логов

13. ПРОИЗВОДИТЕЛЬНОСТЬ:
    - Асинхронная обработка всех событий
    - Очередь для обработки событий
    - Кэширование часто используемых данных
    - Оптимизация запросов к базе данных

14. ОБРАБОТКА ОШИБОК:
    - Полная обработка всех возможных ошибок
    - Автоматическое переподключение при разрыве соединения
    - Retry механизм для failed запросов
    - Детальное логирование всех ошибок

15. ДОПОЛНИТЕЛЬНЫЕ ФУНКЦИИ:
    - Экспорт всех данных в удобном формате
    - Поиск по логам
    - Фильтрация событий по дате, типу, пользователю
    - Статистика активности
    - Уведомления о важных событиях (опционально)

ТЕХНИЧЕСКИЕ ТРЕБОВАНИЯ:
- Python 3.8+
- Telethon библиотека для работы с Telegram API
- Асинхронное программирование (asyncio)
- Структурированное логирование (logging)
- База данных (SQLite/PostgreSQL)
- Обработка всех типов событий через event handlers Telethon
- Многопоточность/многозадачность для обработки событий

СТРУКТУРА ПРОЕКТА:
- main.py - главный файл запуска
- config.py - конфигурация
- auth.py - модуль авторизации
- monitor.py - модуль мониторинга
- logger.py - модуль логирования
- database.py - модуль работы с БД
- handlers/ - папка с обработчиками различных событий
- logs/ - папка для логов
- media/ - папка для сохранения медиа
- requirements.txt - зависимости
- README.md - документация

Создай полностью рабочее приложение с профессиональным кодом, полной обработкой ошибок, подробными комментариями и документацией. Код должен быть готов к использованию сразу после установки зависимостей и настройки конфигурации.

